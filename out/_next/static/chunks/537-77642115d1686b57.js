(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{7537:function(r,n,t){"use strict";t.d(n,{Z:function(){return I}});var e=t(5893),i=t(7294),a=t(5391);function o(r){return function(r){if(Array.isArray(r)){for(var n=0,t=new Array(r.length);n<r.length;n++)t[n]=r[n];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l={display:"grid",gridTemplateAreas:"\n  . title .\n  . grid moves\n",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"auto auto"},u={emoji:["\ud83d\udc9c","\ud83e\udd87","\u2615"]};function c(r){var n=r.boardHistory,t=r.changeToMove;return n.map((function(r,n){var i=n?"Go to move "+n:"Go to game start";return(0,e.jsx)("li",{children:(0,e.jsx)("button",{onClick:function(){t(n)},children:i})},n)}))}function d(r){var n=r.player,t=r.players,e=null;if(null!==n&&void 0!==n){if(n>t.length)return t[n%t.length];e=t[n]}return e}var y=function(r){var n=r.currentPlayer,t=r.playerLogos;return(0,e.jsxs)("h3",{children:["current player:",d({player:n,players:t})]})};function f(r){return r.player%r.players.length}var s=t(6708),v=t(1555),x=t(1511);var p=function(r,n){(0,v.km)("calculateWinner"),(0,x.V)(r.squares);for(var t=0;t<n.length;t++){var e=n[t],i=0,o=e[0],l=(0,s.h)({board:r,x:o.x,y:o.y});if(null!==l){for(var u=0;u<e.length;u++){var c=e[u],d=[c.x,c.y],y=d[0],f=d[1];if((0,s.h)({board:r,x:y,y:f})==l&&i++,i==e.length)return(0,a.C)("#################################################"),{player:l,line:e}}(0,a.C)("no winner",l,r.moveList.length)}}return(0,v.je)("calculateWinner"),null};function g(r,n,t){(0,v.km)("addTileToGrid"),(0,x.V)(n);var e=[];return null===(0,s.D)({grid:n,tile:t})&&(e=function(r){var n=r.boardValues,t=r.newValue,e=r.tile;(0,v.km)("changeValue");for(var i=[],a=(n.length,n[0].length,0);a<n.length;a++){var o=n[a];a==e.x?i[a]=h(o,e,t):i[a]=o}return(0,v.je)("changeValue"),(0,x.V)(i),(0,v.je)("changeValue"),i}({boardValues:n,newValue:r,tile:t})),(0,v.je)("addTileToGrid"),(0,x.V)(e),(0,v.je)("addTileToGrid"),e}function h(r,n,t){(0,v.km)("mutatYArray");for(var e=[],i=0;i<r.length;i++){var a=r[i];i==n.y?e[i]=t:e[i]=a}return(0,v.je)("mutatYArray"),e}function b(r){var n=r.Board,t=r.x,e=r.y,i=r.player,a=r.CheckTile,o=r.winningLines,l=r.addBoard;(0,v.km)("handleClick"),(0,x.V)(n.squares);var u=a({board:n,x:t,y:e});if(null===u)return(0,v.je)("handleClick"),null;u=m(u);var c=function(r){var n,t,e,i;n=void 0===r.currentTile?void 0:{x:null===(t=r.currentTile)||void 0===t?void 0:t.x,y:null===(e=r.currentTile)||void 0===e?void 0:e.y};if(null===r.winner)i=null;else{var a,o;i={player:null===(a=r.winner)||void 0===a?void 0:a.player,line:null===(o=r.winner)||void 0===o?void 0:o.line.map(m)}}var l=r.moveList.map(m),u=function(r){return r.map((function(r){return r.map((function(r){return r}))}))}(r.squares);return{currentTile:n,winner:i,moveList:l,squares:u}}(n);return c.moveList.push(u),c.currentTile=u,c.squares=g(i,c.squares,u),c.winner=p(c,o),l(c),(0,v.je)("handleClick"),c}function m(r){return{x:r.x,y:r.y}}var M=t(5748);function S(r){var n=r.board,t=r.tile,e=n.currentTile;return!(!e||e.x!=t.x||e.y!=t.y)}function w(r){var n,t=r.board,e=r.tile,i=null===(n=t.winner)||void 0===n?void 0:n.line;if(i&&function(r,n){var t=!0,e=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var l=a.value;if(l.x==r.x&&l.y==r.y)return!0}}catch(u){e=!0,i=u}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}return!1}(e,i))return!0;return!1}var k=t(574),T=t.n(k);function j(r){var n=r.board,t=r.tile,e=t.x,i=t.y,a=w({board:n,tile:{x:e,y:i}})?"-win":"",o=S({board:n,tile:{x:e,y:i}})?"-last":"";return o?T().last:a?T().win:T().tile}var z=function(r){var n=r.callFunction,t=r.gridSize,e=[];return function(r){for(var n=[],t=0;t<r.x;t++)for(var e=0;e<r.y;e++)n.push({x:t,y:e});return n}(t).forEach((function(r){var t=n(r);e=e.concat(t)})),e};function C(r,n){var t=r.length;return n.length-t}var _={vertical:1,horizontal:0},A={vertical:0,horizontal:1},V={vertical:1,horizontal:1},O={vertical:-1,horizontal:1};var q=function(r){return 0==r.vertical?"horizontal":0==r.horizontal?"vertical":"diagonal"};function L(r){for(var n=r.point,t=r.length,e=r.xMultiplier,i=r.yMultiplier,a=[],o=0;o<t;o++){var l=n.x+o*e,u=n.y+o*i;a.push({x:l,y:u})}return a}function H(r){var n,t,e=r.point,i=r.length,a=r.xMultiplier,o=r.yMultiplier,l=r.boardMinMax,u=P({point:e,length:i,xMultiplier:a,yMultiplier:o}),c=u.xMin,d=u.yMin,y=u.xMax,f=u.yMax,s=c==l.min.x,v=y==l.max.x,x=d==l.min.y,p=f==l.max.y;if(0==a)return x&&p;if(0==o)return s&&v;switch(o){case 1:n=s||x,t=v||p;break;case-1:n=s||p,t=v||x}return n&&t}function R(r){var n=r.point,t=r.length,e=r.xMultiplier,i=r.yMultiplier,a=r.boardMinMax,o=P({point:n,length:t,xMultiplier:e,yMultiplier:i}),l=(o.xMin,o.yMin),u=o.xMax,c=o.yMax,d=u<=a.max.x,y=c<=a.max.y,f=l>=a.min.y;return d&&y&&f}function P(r){var n,t,e=r.point,i=r.length,a=r.xMultiplier,o=r.yMultiplier;return{xMin:e.x,xMax:e.x+(i-1)*a,yMin:(n=e.y,t=e.y+(i-1)*o,n<t?n:t),yMax:function(r,n){return r>n?r:n}(e.y,e.y+(i-1)*o)}}function E(r){var n=r.point,t=r.sig,e=r.boardStructure,i=r.boardMinMax;!function(r){var n=r.boardStructure,t=r.sig;switch(q(t)){case"horizontal":return n.HorizontalType;case"vertical":return n.verticalType;case"diagonal":n.diagonalType}}({boardStructure:e,sig:t});return function(r){var n,t,e,i,a,o=r.point,l=r.sig,u=r.boardStructure,c=r.boardMinMax;switch(q(l)){case"horizontal":n=u.minHorizontal,t=u.maxHorizontal,e=u.HorizontalType,i=1,a=0;break;case"vertical":n=u.minVertical,t=u.maxVertical,e=u.verticalType,i=0,a=1;break;case"diagonal":n=u.minDiagonal,t=u.maxDiagonal,e=u.diagonalType,i=1,a=l.vertical}if("none"==e)return[];for(var d=[],y=n;y<=t;y++)("fullOnly"!=e||H({point:o,length:y,xMultiplier:i,yMultiplier:a,boardMinMax:c}))&&R({point:o,length:y,xMultiplier:i,yMultiplier:a,boardMinMax:c})&&d.push(L({point:o,length:y,xMultiplier:i,yMultiplier:a}));return d}({point:n,sig:t,boardStructure:e,boardMinMax:i})}var D=function(r){var n=r.gridSize,t=r.boardStructure,e={x:0,y:0},i=[];return z({gridSize:n,callFunction:function(r){i=i.concat(function(r){var n=r.point,t=r.boardStructure,e=r.boardMinMax,i=[];return[_,A,V,O].forEach((function(r){i=i.concat(E({point:n,sig:r,boardStructure:t,boardMinMax:e}))})),i}({boardMinMax:{max:{x:n.x-1,y:n.y-1},min:e},boardStructure:t,point:r}))}}),function(r){var n=r;return n.sort(C),n}(i)};function Z(r){return function(n){var t=n.x,e=n.y;return function(){r({x:t,y:e})}}}var G={background:"var(--Secondary-9)",border:"1px solid var(--Secondary-0)",margin:"1px",float:"left",fontSize:"60px",fontWeight:"bold",lineHeight:"34px",height:"120px",marginRight:"-1px",marginTop:"-1px",padding:"0",textAlign:"center",width:"120px"};function W(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function B(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},e=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),e.forEach((function(n){W(r,n,t[n])}))}return r}function F(r){var n=r.tile,t=r.board,e=[n.x,n.y],i=e[0],a=e[1],o=(t.currentTile,w({tile:n,board:t})),l=S({tile:n,board:t}),u=!(o||l),c={},d=G,y=B({background:"var(--Accent-0)",gridColumn:i+1,gridRow:a+1},d);return c=B({},y),o&&(c=B({},c,{background:"var(--Accent-0)",borderRadius:"100%"})),l&&(c=B({},c,{backgroundColor:"var(--Secondary-1)",borderRadius:"100%"})),u&&(c=B({gridColumn:i+1,gridRow:a+1},d)),c}var I=function(r){var n=(0,i.useState)({maxPlayers:2,gridSize:r.gridSize}),t=n[0],v=(n[1],(0,i.useState)(u.emoji.slice(0,t.maxPlayers))),x=v[0],p=(v[1],(0,i.useState)(D({boardStructure:r.boardStructure,gridSize:t.gridSize}))),g=p[0],h=(p[1],(0,i.useState)({squares:Array(r.gridSize.x).fill(Array(r.gridSize.y).fill(null)),currentTile:void 0,moveList:[],winner:null})),m=h[0],k=(h[1],(0,i.useState)([m])),T=k[0],z=k[1],C=(0,i.useState)(m),_=C[0],A=C[1],V=function(r){var n=r.arraySetState,t=r.elementSetState;return function(r){n((function(n){return o(n).concat([r])})),t(r)}}({arraySetState:z,elementSetState:A}),O=r.CheckTile?r.CheckTile:M.Rt,q=_.winner?function(r){return null}:function(r){b({Board:_,player:L,winningLines:g,x:r.x,y:r.y,CheckTile:O,addBoard:V})},L=function(r,n){var t=r.length;return{prev:t>0?f({player:t-1,players:n}):null,curr:f({player:t,players:n}),next:f({player:t+1,players:n})}}(_.moveList,x).curr,H=function(r){for(var n=r.xMax,t=r.yMax,i=(r.makeStyle,r.makeCallback),a=r.makeContent,o=r.board,l=[],u=0;u<n;u++)for(var c=0;c<t;c++){var d={x:u,y:c},y={gridColumn:u+1,gridRow:c+1},f=i?i(d):void 0,s=a?a(d):null,v=(w({board:o,tile:d}),S({board:o,tile:d}),j({board:o,tile:d}));l.push((0,e.jsx)("button",{style:y,onClick:f,className:v,children:s}))}return(0,e.jsx)("div",{style:{display:"grid",margin:"0 auto"},children:l})}({xMax:t.gridSize.x,yMax:t.gridSize.y,makeCallback:Z(q),makeStyle:F,makeContent:function(r){var n=r.x,t=r.y;return d({player:(0,s.h)({board:_,x:n,y:t}),players:x})},board:_}),R=c({changeToMove:function(r){(0,a.C)("move: ",r),A(T[r])},boardHistory:T}),P=(c({changeToMove:function(r){(0,a.C)("winning line: ",r),A(function(r,n){for(var t={line:r,player:0},e=[],i=0;i<n.x;i++){for(var a=[],o=0;o<n.y;o++)a.push(null);e.push(a)}var l=!0,u=!1,c=void 0;try{for(var d,y=r[Symbol.iterator]();!(l=(d=y.next()).done);l=!0){var f=d.value;e[f.x][f.y]=0}}catch(s){u=!0,c=s}finally{try{l||null==y.return||y.return()}finally{if(u)throw c}}return{winner:t,moveList:[],currentTile:r[0],squares:e}}(g[r],t.gridSize))},boardHistory:g}),y({currentPlayer:L,playerLogos:x}));return(0,e.jsxs)("div",{style:l,children:[(0,e.jsx)("div",{}),(0,e.jsx)("div",{children:P}),(0,e.jsx)("div",{}),(0,e.jsx)("div",{style:{fontWeight:"bold"}}),(0,e.jsx)("div",{children:H}),(0,e.jsx)("div",{children:R})]})}},6708:function(r,n,t){"use strict";t.d(n,{h:function(){return a},D:function(){return o}});var e=t(7512);t(5391);function i(r,n){(0,e.Z)()}function a(r){var n=r.board,t=r.x,e=r.y;return i(0,n.squares),n.squares[t][e]}function o(r){var n=r.grid,t=r.tile;return i(),n[t.x][t.y]}},5748:function(r,n,t){"use strict";t.d(n,{_I:function(){return o},Rt:function(){return u}});var e=t(1555),i=t(1511),a=t(6708);function o(r){var n=r.board,t=r.x;r.y;return l({board:n,x:t,y:0})}function l(r){var n=r.board,t=r.x,e=r.y;return null!==(0,a.h)({board:n,x:t,y:e})?null:e===n.squares[0].length-1||"number"===typeof(0,a.h)({board:n,x:t,y:e+1})?{x:t,y:e}:l({board:n,x:t,y:e+1})}function u(r){var n=r.board,t=r.x,o=r.y;(0,e.km)("staticCheckTile");var l=(0,a.h)({board:n,x:t,y:o});return(0,i.V)(n.squares),(0,e.je)("staticCheckTile"),null===l?{x:t,y:o}:null}},1555:function(r,n,t){"use strict";t.d(n,{km:function(){return l},je:function(){return u}});var e=t(7512),i=t(5391),a="color: ".concat("powderblue");function o(r,n,t,o){if((0,e.Z)()){var l=n?", %c"+n:"%c";(0,i.C)("---%c".concat(r).concat(l,"%c: %c").concat(t,"%c---"),"color: steelblue",a,"",o||"color: orchid","")}}function l(r,n){o(r,n,"start","color: olivedrab;")}function u(r,n){o(r,n,"end","color: palevioletred;")}},7512:function(r,n,t){"use strict";function e(){return!1}t.d(n,{Z:function(){return e}})},5391:function(r,n,t){"use strict";t.d(n,{C:function(){return a}});var e=t(7512);function i(r){return function(r){if(Array.isArray(r)){for(var n=0,t=new Array(r.length);n<r.length;n++)t[n]=r[n];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var a;(0,e.Z)()&&(a=console).log.apply(a,i(n))}},1511:function(r,n,t){"use strict";t.d(n,{V:function(){return i}});var e=t(7512);t(5391);function i(r){if((0,e.Z)());}},574:function(r){r.exports={tile:"tile_tile__hWDae",win:"tile_win__FHJzt",last:"tile_last__yM9jT","tile-win-last":"tile_tile-win-last__S8ab2","tile-last-win":"tile_tile-last-win__zoxzc"}}}]);